function login(){var a="http://10.186.120.167/jinah.kang/public_html/picasa/keyevent/instagram.html",b="https://instagram.com/oauth/authorize/?client_id="+client_id+"&redirect_uri="+a+"&response_type=token";return window.location.reload=b,access_token=window.location.hash.split("=")[1],console.log("access_token : "+access_token),access_token}function getUserPhotos(){var b="179519605";hasMoreImages||(userURL="https://api.instagram.com/v1/users/"+b+"/media/recent/?client_id="+client_id+"&count=24"),$.ajax({url:userURL,crossDomain:!0,dataType:"jsonp",type:"GET",success:function(a){var b=a;totalNumberOfPhoto+=b.data.length,$("#loadMore").length>0&&$("#loadMore").remove(),console.log("totalNumberOfPhoto: "+totalNumberOfPhoto);for(var c=0;c<b.data.length;c++){var f,d=b.data[c].images.standard_resolution,e=b.data[c].location;if(e){latitude=e.latitude,longitude=e.longitude,e.name?f=e.name.split("@&@")[1].toUpperCase():(console.log(">> =========== No Location INFO!! ===========<<"),console.log("result.data[i]: "+b.data[c]),console.log(">> ===========================================!! <<"));var h=b.data[c].images.thumbnail;h.url,h.width,h.height}$("#"+f).children().children().children(".photo-grid").append("<li><a href='javascript:void(0)'><figure><img id = 'photo_"+(numOfCallAPI+c)+"' class='photo' src='"+d.url+"' width='300' height='300'><figcaption><p></p></figcaption></figure></a></li>");var l=numOfCallAPI+c;$("#photo_"+l).attr("origin_width",d.width),$("#photo_"+l).attr("origin_height",d.height),$("#photo_"+l).attr("time",b.data[c].created_time.toHHMMSS()),null!==b.data[c].caption&&$("#photo_"+l).siblings().children().text(b.data[c].caption.text)}!hasMoreImages&&800>innerHeight&&$(".photo-grid").height(innerHeight-100),addClickEvent(),void 0!==b.pagination.next_url&&(console.log("[Instagram] It has more image!"),userURL=b.pagination.next_url,hasMoreImages=!0,getUserPhotos(),numOfCallAPI+=b.data.length)}})}function addClickEvent(){$("figure").click(function(a){"none"==$("#zoom_photo_container").css("display")&&showZoomContainer();var b=a.target.parentNode.parentNode.childNodes[0];$("#zoom_photo").attr("src",b.src),$("#zoom_photo_container").attr("photo_id",b.id);var c=$("#"+b.id).attr("origin_width"),d=$("#"+b.id).attr("origin_height");c>innerWidth-50&&(c=innerWidth-50),d>innerHeight-50&&(d=innerHeight-50),c>d?c=d:d=c,setZoomContainerPosition(c,d)})}function setZoomContainerPosition(a,b){var c=$("#zoom_photo_container");$("#zoom_photo").attr({width:parseInt(a)-76,height:parseInt(b)-60}),$("#zoom_photo").css("margin","30px 50px");var d=(window.innerWidth-a)/2,e=(window.innerHeight-b)/2;c.css({width:parseInt(a)+65,height:parseInt(b)}),c.css("left",d),c.css("top",e),$(".arrow_image").css("top",(parseInt(b)-64)/2),addArrowEvent()}function addArrowEvent(){$("#rightBtn").unbind().click(function(){var b="photo_"+(parseInt($(this).parent("#zoom_photo_container").attr("photo_id").split("_")[1])+1);showNextPhoto(b)}),$("#leftBtn").unbind().click(function(){var b="photo_"+(parseInt($(this).parent("#zoom_photo_container").attr("photo_id").split("_")[1])-1);showNextPhoto(b)})}function showNextPhoto(a){$("#"+a).length>0&&($("#zoom_photo").attr("src",$("#"+a).attr("src")),$("#zoom_photo_container").attr("photo_id",a))}function hideZoomContainer(){$("#zoom_photo_container").hide(),$(".photo-grid").css("opacity",1),$(".photo-grid").css("background-color","")}function showZoomContainer(){$("#zoom_photo_container").show(),$(".photo-grid").css("opacity",.1),$(".photo-grid").css("background-color","#000")}var access_token,client_id="0cd2081f6bcd4d0ca9ea6fd4834b4e05";$(document).ready(function(){client_id="0cd2081f6bcd4d0ca9ea6fd4834b4e05",getUserPhotos(),$("#zoom_photo_container").css("display","none"),$("body").click(function(a){("photo-grid"==a.target.className||"menu"==a.target.id||"tableCell"==a.target.className)&&("none"!=$("#zoom_photo_container").css("display")?hideZoomContainer():"block"==$("#detailInfo").css("display")&&($("#detailInfo").css("display","none"),$(".detail_container").remove()))}),$("#addFlight").click(function(){})});var userURL,totalNumberOfPhoto=0,hasMoreImages=!1,numOfCallAPI=0;String.prototype.toHHMMSS=function(){var a=parseInt(this,10),b=Math.floor(a/3600),c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;10>b&&(b="0"+b),10>c&&(c="0"+c),10>d&&(d="0"+d);var e=b+":"+c+":"+d;return e};